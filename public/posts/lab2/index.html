<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="light">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Master 2 - Human Computer Interaction: Lab Homework 2 – Mobile Controls &amp; Deployment for ML-Agents Project | Gustavo Scheidt</title>
<meta name="keywords" content="Unity, Mobile Development, ML-Agents, Reinforcement Learning, HCI, Deployment">
<meta name="description" content="Adapting the TrackBot reinforcement learning environment to mobile using on-screen buttons and deploying the Unity build to Android.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/lab2/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.cf367d7275bbac0cf2600a8cfa5300d17223b755c0fc0749190bde72230c0db7.css" integrity="sha256-zzZ9cnW7rAzyYAqM&#43;lMA0XIjt1XA/AdJGQveciMMDbc=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/assets/icone_site.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/assets/icone_site.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/assets/icone_site.png">
<link rel="apple-touch-icon" href="http://localhost:1313/assets/icone_site.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/lab2/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    }

</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Gustavo Scheidt (Alt + H)">Gustavo Scheidt</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/posts/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Master 2 - Human Computer Interaction: Lab Homework 2 – Mobile Controls &amp; Deployment for ML-Agents Project
    </h1>
    <div class="post-description">
      Adapting the TrackBot reinforcement learning environment to mobile using on-screen buttons and deploying the Unity build to Android.
    </div>
    <div class="post-meta"><span title='2025-10-25 00:00:00 +0000 UTC'>October 25, 2025</span>

</div>
  </header> 
  <div class="post-content"><h1 id="lab-homework-2">Lab Homework 2<a hidden class="anchor" aria-hidden="true" href="#lab-homework-2">#</a></h1>
<p><em>Adapting the ML-Agents TrackBot Project to Mobile</em><br>
<em>Master’s in Computer Vision &amp; AI — Gustavo</em></p>
<p>This lab adapts the original TrackBot ML‑Agents reinforcement learning environment into a <strong>mobile‑friendly version</strong> using a <strong>virtual joystick</strong>.<br>
The original TrackBot could only be controlled through discrete keyboard actions, but this version introduces a <strong>continuous mobile joystick</strong> that directly maps the drag direction to TrackBot&rsquo;s movement.</p>
<hr>
<p><img alt="Mobile Trackbot" loading="lazy" src="/assets/mobile_trackbot.gif"></p>
<h2 id="1-original-agent-behavior">1) Original Agent Behavior<a hidden class="anchor" aria-hidden="true" href="#1-original-agent-behavior">#</a></h2>
<p>The TrackBot originally had three discrete actions:</p>
<ol>
<li>Move Forward</li>
<li>Rotate Left</li>
<li>Rotate Right</li>
</ol>
<p>These were used during training and were accessible through <code>Heuristic()</code> for desktop control.</p>
<h2 id="2-designing-mobile-interaction">2) Designing Mobile Interaction<a hidden class="anchor" aria-hidden="true" href="#2-designing-mobile-interaction">#</a></h2>
<h3 id="you-may-be-asking-yourself-why-a-joystick-instead-of-buttons">You may be asking yourself: Why a joystick instead of buttons?<a hidden class="anchor" aria-hidden="true" href="#you-may-be-asking-yourself-why-a-joystick-instead-of-buttons">#</a></h3>
<p>A joystick provides:</p>
<ul>
<li>Natural direction‑based input</li>
<li>Intuitive mapping: direction dragged = direction robot moves</li>
<li>Smooth motion</li>
<li>Works extremely well with continuous 2D navigation</li>
<li>Much better mobile UX than three fixed buttons</li>
</ul>
<p>This follows core HCI principles:</p>
<ul>
<li><strong>Direct manipulation</strong></li>
<li><strong>Low cognitive load</strong></li>
<li><strong>Immediate feedback</strong></li>
<li><strong>Consistency with mobile game patterns</strong></li>
</ul>
<h2 id="3-building-the-mobile-joystick">3) Building the Mobile Joystick<a hidden class="anchor" aria-hidden="true" href="#3-building-the-mobile-joystick">#</a></h2>
<h3 id="31-joystick-ui">3.1 Joystick UI<a hidden class="anchor" aria-hidden="true" href="#31-joystick-ui">#</a></h3>
<p>Created using Unity Canvas:</p>
<pre tabindex="0"><code>Canvas
 └── JoystickBackground (Image)
       └── JoystickHandle (Image)
</code></pre><p>The background stays anchored bottom‑left.<br>
The handle moves inside it when dragging.</p>
<h2 id="32-joystick-script">3.2 Joystick Script<a hidden class="anchor" aria-hidden="true" href="#32-joystick-script">#</a></h2>
<p>A simplified joystick script reads drag direction and returns a normalized vector.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> Vector2 GetDirection()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> input;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This gives a vector in range [-1, 1] × [-1, 1].</p>
<h2 id="33-trackbot-mobile-controller">3.3 TrackBot Mobile Controller<a hidden class="anchor" aria-hidden="true" href="#33-trackbot-mobile-controller">#</a></h2>
<p>The TrackBot now:</p>
<ul>
<li>Rotates smoothly toward joystick direction</li>
<li>Moves forward based on joystick magnitude</li>
<li>Uses Rigidbody for physics‑friendly motion</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Vector3 moveDir = <span style="color:#66d9ef">new</span> Vector3(dir.x, <span style="color:#ae81ff">0</span>, dir.y);
</span></span><span style="display:flex;"><span>transform.rotation = Quaternion.Lerp(...);
</span></span><span style="display:flex;"><span>rb.MovePosition(...);
</span></span></code></pre></div><p>This creates a very natural 2D robot‑like movement.</p>
<h2 id="4-deployment-to-mobile-android">4) Deployment to Mobile (Android)<a hidden class="anchor" aria-hidden="true" href="#4-deployment-to-mobile-android">#</a></h2>
<h3 id="requirements-installed-via-unity-hub">Requirements installed via Unity Hub:<a hidden class="anchor" aria-hidden="true" href="#requirements-installed-via-unity-hub">#</a></h3>
<ul>
<li>Android Build Support</li>
<li>SDK, NDK, OpenJDK</li>
</ul>
<h3 id="build-settings">Build Settings:<a hidden class="anchor" aria-hidden="true" href="#build-settings">#</a></h3>
<ul>
<li>Switch platform → Android</li>
<li>Resolution = Landscape</li>
<li>ARM64 enabled</li>
<li>Minimal API Level = Android 8.0</li>
</ul>
<h3 id="steps">Steps:<a hidden class="anchor" aria-hidden="true" href="#steps">#</a></h3>
<ol>
<li>Enable USB debugging</li>
<li>Connect device</li>
<li>Press <strong>Build &amp; Run</strong></li>
</ol>
<p>Unity automatically builds an APK and installs it on the phone.</p>
<h2 id="5-mobile-testing">5) Mobile Testing<a hidden class="anchor" aria-hidden="true" href="#5-mobile-testing">#</a></h2>
<p>The final mobile build works as expected:</p>
<ul>
<li>Joystick controls movement in all directions</li>
<li>Touch input is smooth and responsive</li>
<li>TrackBot physics identical to desktop</li>
<li>Rewards, resets, collisions unchanged</li>
<li>Training remains unaffected because joystick control is separate from ML‑Agents policy inference</li>
</ul>
<h2 id="6-problems--solutions">6) Problems &amp; Solutions<a hidden class="anchor" aria-hidden="true" href="#6-problems--solutions">#</a></h2>
<h3 id="problem-touch-release-not-resetting-movement"><strong>Problem:</strong> Touch release not resetting movement<a hidden class="anchor" aria-hidden="true" href="#problem-touch-release-not-resetting-movement">#</a></h3>
<p><strong>Fix:</strong> Use <code>OnPointerUp</code> instead of <code>OnClick</code>.</p>
<h3 id="problem-joystick-not-working-on-mobile"><strong>Problem:</strong> Joystick not working on mobile<a hidden class="anchor" aria-hidden="true" href="#problem-joystick-not-working-on-mobile">#</a></h3>
<p><strong>Fix:</strong> EventSystem missing. Added automatically via<br>
<code>GameObject → UI → EventSystem</code>.</p>
<h3 id="problem-trackbot-too-sensitive"><strong>Problem:</strong> TrackBot too sensitive<a hidden class="anchor" aria-hidden="true" href="#problem-trackbot-too-sensitive">#</a></h3>
<p><strong>Fix:</strong> Clamp joystick magnitude and reduce speed on mobile.</p>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>This lab successfully demonstrates:</p>
<ul>
<li>Converting an ML‑Agents environment into a mobile‑friendly experience</li>
<li>Implementing an intuitive touch‑based joystick</li>
<li>Deploying and testing a Unity mobile build</li>
<li>Preserving the RL logic while adding manual control</li>
</ul>
<p>The TrackBot environment is now fully usable on mobile and much more interactive.</p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/unity/">Unity</a></li>
      <li><a href="http://localhost:1313/tags/mobile-development/">Mobile Development</a></li>
      <li><a href="http://localhost:1313/tags/ml-agents/">ML-Agents</a></li>
      <li><a href="http://localhost:1313/tags/reinforcement-learning/">Reinforcement Learning</a></li>
      <li><a href="http://localhost:1313/tags/hci/">HCI</a></li>
      <li><a href="http://localhost:1313/tags/deployment/">Deployment</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="http://localhost:1313/">Gustavo Scheidt</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer></body>

</html>
